<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" CONTENT="IE=edge">
    <title>HTML5 WebSockets</title>
    <script>

        url = "ws://192.168.1.14/ws";

        w = new WebSocket(url);

        w.onopen = function () {
            log("open web socket");
            w.send("thank you for accepting this Web Socket request");
        }

        w.onmessage = function (e) {
            log(e.data.toString());
        }
        w.onclose = function (e) {
            log("closed");
        }
        w.onerror = function (e) {
            log("error");
        }

        window.onload = function () {
            document.getElementById("sendButton").onclick = function () {
                w.send(document.getElementById("inputMessage").value);
            }
        }

        function log(s) {
            var logOutput = document.getElementById("logOutput");

            var el = $("#logOutput").after('<p>' + s + '</p>');

            $("p").slice(2).addClass("highlight");
        }


    </script>
    <script src="https://code.jquery.com/jquery-2.2.2.min.js"
        integrity="sha256-36cp2Co+/62rEAAYHLmRCPIych47CvdM+uTBJwSzWjI=" crossorigin="anonymous"></script>
    <style type="text/css" media="screen">
        .highlight {
            background: yellow;
        }
    </style>
</head>

<body>

    <input type="text" id="inputMessage" value="Hello, Web Socket!"><button id="sendButton">Send</button>

    <pre id="output"></pre>

    <p id="logOutput">

    </p>

</body>

</html>